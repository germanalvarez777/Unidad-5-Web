<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/styles.css"> <!--VER SI PARA EL SERVER TENGO QUE PONER COMO URL DE APUNTE-->
    <title>Pronto Remis</title>
</head>
<body>
    <!-- Encabezado -->
    <header class="container">
        <nav class="navbar navbar-expand-lg sticky-top navbar-light">
            <a class="navbar-brand" href="#"><img src="img/logo.svg"  class="logo" alt="" srcset="">Pronto Remis</a>       
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end text-center" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-link active" aria-current="page" href="{{url_for('inicio')}}">Inicio</a>
                <a class="nav-link" href="{{url_for('iniciar_sesion')}}">Iniciar sesion</a>
            </div>
            </div>
        </nav>
    </header>

    {% if iniciarSesion == True %}
        <!--Iniciar sesion -->
        <section class="container">
            <div class="row justify-content-center mt-5">
                <div class="col-lg-4 iniciarSesion">
                    <h1 class="text-center">Iniciar sesion</h1>
                    <hr>
                    <form action="{{url_for('autenticar_usuario')}}" method="POST">
                        <div class="mb-3">
                            <label for="usuario" class="form-label">Usuario</label>
                            <input type="text" class="form-control" name="usuario" placeholder="dni..." required pattern="[0-9]+">
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Contraseña</label>
                            <input type="password" class="form-control" name="password" required>
                        </div>
                        <div class="d-flex justify-content-between">
                            <p>¿Nuevo usuario?</p>
                            <a href="{{url_for('formulario_registrar_usuario')}}">Regístrate ahora</a>
                        </div>
                        <!-- Texto en caso de no poder iniciar sesion-->
                        {% if usuario == False %}
                            <p class="text-center text-danger">Usuario no registrado</p>
                        {% endif %}
                        {% if password == False %}
                            <p class="text-center text-danger">Contraseña inválida</p>
                        {% endif %}
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Ingresar</button>
                        </div>     
                    </form>
                </div>
            </div>
        </section>
    {% endif %}

    {% if registrarUsuario == True %}
        <!-- REGISTRAR USUARIO -->
        <section class="container">
            <div class="row justify-content-center mt-5">
                <div class="col-lg-4 iniciarSesion">
                    <h1 class="text-center">Registrar usuario</h1>
                    <hr>
                    <form action="{{url_for('registrar_usuario')}}" method="POST">
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre</label>
                            <input type="text" class="form-control"  name="nombre" required>
                        </div>
                        <div class="mb-3">
                            <label for="dni" class="form-label">Documento</label>
                            <input type="text" class="form-control" name="dni" required pattern="[0-9]+">
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Contraseña</label>
                            <input type="password" class="form-control" name="password" required>
                        </div>
                        <!--Mensaje que se muestra en caso de registro exitoso-->
                        {% if exito == True %}
                            <p class="text-center text-success">Usuario registrado!</p>
                        {% endif %}
                        {% if usuarioRegistrado == True %}
                            <p class="text-center text-danger">El usuario ya está registrado</p>
                        {% endif %} 
                        <div class="d-flex justify-content-between">
                            <a href="{{url_for('iniciar_sesion')}}" class="btn btn-primary">Volver</a>
                            <button type="submit" class="btn btn-primary">Registrarse</button>
                            
                        </div>                

                    </form>
                </div>
            </div>
        </section>
    {% endif %}

    <!-- Footer -->
    <footer>

    </footer>

    <!--Js bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>   
</body>
</html>